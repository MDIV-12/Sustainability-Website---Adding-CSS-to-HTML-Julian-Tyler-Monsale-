/* Apply border-box sizing to all elements and their pseudo-elements */
*,
*::before,
*::after {
  /* Use border-box so padding and border are included in element's width/height */
  box-sizing: border-box;
}

/* Set base font, size, line height, margin, text color and background for the whole page */
body {
  /* Preferred sans-serif stack for broad compatibility */
  font-family: Verdana, Geneva, Arial, sans-serif;
  /* Base font size */
  font-size: 16px;
  /* Comfortable line height for body text */
  line-height: 1.5;
  /* Remove default body margin */
  margin: 0;
  /* Default text color */
  color: #222;
  /* Page background color */
  background: #fff;
}

/* Constrain header, nav, and main wrapper width and center them */
header,
nav,
#content-wrapper {
  /* Relative page width inside the viewport */
  width: 90%;
  /* Maximum width to prevent overly wide lines on large screens */
  max-width: 1200px;
  /* Center container horizontally */
  margin-left: auto;
  margin-right: auto;
}

/* Header container layout and stacking context */
header {
  /* Position for absolutely-positioned children (logo) */
  position: relative;
  /* Top and bottom padding to space header content */
  padding: 0.6rem 0 0.25rem 0;
  /* Ensure header has a minimum height */
  min-height: 56px;
  /* Place header above elements with lower z-index */
  z-index: 1;
}

/* Logo positioning so it can overlap the nav */
#logo {
  /* Take the element out of normal flow */
  position: absolute;
  /* Distance from the left edge of the header */
  left: 25px;
  /* Distance from the top of the header */
  top: 4px;
  /* Constrain logo width */
  width: 45px;
  /* Let height scale automatically to preserve aspect ratio */
  height: auto;
  /* Make sure it renders as a block-level element */
  display: block;
  /* High stacking order so it sits above the nav */
  z-index: 60;
}

/* Style for the main page title inside header */
header h1 {
  /* Remove default margins */
  margin: 0;
  /* Add left padding to make space for the absolutely-positioned logo */
  padding-left: 76px;
  /* Title font size */
  font-size: 1.6rem;
  /* Heavy font weight for emphasis */
  font-weight: 700;
  /* Title color */
  color: #111;
}

/* Primary navigation bar background and stacking */
nav {
  /* Solid green background for the nav */
  background-color: #008000;
  /* Small top margin so the logo can visually overlap */
  margin-top: 0.9rem;
  /* Default stacking order (below the logo) */
  z-index: 0;
}

/* Reset and layout for the nav list */
nav ul {
  /* Remove default list markers */
  list-style: none;
  /* Remove default margins */
  margin: 0;
  /* Add left padding to align nav items with header title */
  padding-left: 112px;
  /* Use flexbox to lay out nav items horizontally */
  display: flex;
  /* Vertically center items within the nav */
  align-items: center;
}

/* Links inside the nav */
nav a {
  /* Make anchors behave like inline-blocks so padding applies nicely */
  display: inline-block;
  /* Comfortable padding for clickable area */
  padding: 1rem;
  /* White text color on green background */
  color: #fff;
  /* Remove underline */
  text-decoration: none;
  /* Bold weight for nav labels */
  font-weight: bold;
}

/* Hover and focus styles for nav links for better affordance */
nav a:hover,
nav a:focus {
  /* Dark background on hover/focus for contrast */
  background-color: #000;
  /* Lighter green text color on hover/focus */
  color: #9ae39a;
}

/* Main layout: place aside and main content side-by-side */
#content-wrapper {
  /* Use flexbox layout for the two-column design */
  display: flex;
  /* Horizontal direction */
  flex-direction: row;
  /* Space between columns */
  gap: 1.5rem;
  /* Top margin to separate from nav */
  margin-top: 1.2rem;
  /* Bottom padding to allow breathing room */
  padding-bottom: 2rem;
  /* Align children to the top */
  align-items: flex-start;
}

/* Sidebar layout and fixed width */
aside {
  /* Place aside visually before main using order */
  order: -1;
  /* Do not grow or shrink; fixed basis */
  flex: 0 0 220px;
  /* Maximum width caps the sidebar */
  max-width: 220px;
  /* Light gray background for the sidebar */
  background: #e2e2e2;
  /* Inner padding for sidebar content */
  padding: 12px;
  /* Stretch to match the height of the main area */
  align-self: stretch;
}

/* Sidebar main heading styling so it spans full width */
aside h2 {
  /* Remove default margins */
  margin: 0 0 12px 0;
  /* Padding inside the heading */
  padding: 0.5rem 0.5rem 0.45rem 0.5rem;
  /* Slightly larger font size */
  font-size: 1.15rem;
  /* Bold weight for the heading */
  font-weight: 700;
  /* Dark text color */
  color: #111;
  /* Transparent background to avoid decorative patterns */
  background: transparent;
  /* Remove any default border-underlines */
  border-bottom: none;
  /* Ensure the heading fills the available width */
  width: 100%;
  /* Make sure width accounts for padding and borders */
  box-sizing: border-box;
}

/* Each subsection in the aside styled as a card */
aside section {
  /* White background for the card */
  background: #fff;
  /* Green border to match the site palette */
  border: 1px solid #008000;
  /* Space below each card */
  margin-bottom: 1rem;
  /* Remove inner padding at the section level (children will handle spacing) */
  padding: 0;
  /* Ensure the card takes full width of the sidebar */
  width: 100%;
  /* Box-sizing to include padding in width calculations */
  box-sizing: border-box;
}

/* Sub-section headings inside aside cards */
aside h3 {
  /* Remove default margins */
  margin: 0;
  /* Padding inside the header row */
  padding: 0.5rem;
  /* Green background strip for the subheading */
  background: #008000;
  /* White text for contrast */
  color: #fff;
  /* Readable font size */
  font-size: 1rem;
  /* Bold weight for prominence */
  font-weight: 700;
  /* Ensure the header spans full card width */
  width: 100%;
  /* Use border-box sizing */
  box-sizing: border-box;
}

/* Links directly inside aside sections */
aside section > a {
  /* Make the link a block to span the card width */
  display: block;
  /* Padding for readable clickable area */
  padding: 0.6rem;
  /* Underline links to indicate they are clickable */
  text-decoration: underline;
  /* Dark green link color */
  color: #006600;
  /* Tight line height for compact text */
  line-height: 1.35;
  /* Ensure the element spans full width */
  width: 100%;
  /* Include padding and border in width */
  box-sizing: border-box;
  /* Remove default margins */
  margin: 0;
  /* Remove border that might visually separate content */
  border: none;
  /* Transparent background so the white card shows through */
  background: transparent;
}

/* Main column area to the right of the sidebar */
main {
  /* Normal order so it appears after aside despite aside being ordered visually left */
  order: 0;
  /* Allow main to grow and shrink to fill available space */
  flex: 1 1 0%;
  /* Prevent minimum width issues inside flex items */
  min-width: 0;
}

/* Clearfix for floats inside main */
main::after {
  /* Insert an empty content node */
  content: "";
  /* Make it act like a table to clear floats */
  display: table;
  /* Clear previous floats */
  clear: both;
}

/* Styling for images inside article blocks */
article img {
  /* Float image to the left so text wraps around it */
  float: left;
  /* Fixed width for layout consistency */
  width: 400px;
  /* Allow height to scale with aspect ratio */
  height: auto;
  /* Space around the floated image */
  margin: 0.5rem 1rem 0.5rem 0;
  /* Decorative double border */
  border: 3px double #333;
}

/* Article headings sizing and spacing */
article h2 {
  /* Remove top margin for compact layout */
  margin-top: 0;
  /* Slightly larger font size for subheadings */
  font-size: 1.25rem;
}

/* Container for the bottom three feature boxes */
main > section {
  /* Use flexbox to lay out feature boxes horizontally */
  display: flex;
  /* Gap between columns */
  gap: 1rem;
  /* Space above this group */
  margin-top: 1.5rem;
  /* Ensure boxes stretch to the same height */
  align-items: stretch;
  /* Spread boxes across the available width */
  justify-content: space-between;
}

/* Individual feature box styling */
.home-column {
  /* Allow each box to grow and shrink evenly */
  flex: 1 1 0%;
  /* Pale green background for the box */
  background: #e7ffe7;
  /* Green border matching site palette */
  border: 1px solid #008000;
  /* Rounded corners for softer visual */
  border-radius: 10px;
  /* Center text horizontally */
  text-align: center;
  /* Use flex column layout for internal stacking */
  display: flex;
  flex-direction: column;
  /* Hide overflow to keep rounded corners tidy */
  overflow: hidden;
}

/* Box headings flush to the top and spanning full width */
.home-column h2 {
  /* Remove default margins */
  margin: 0;
  /* Padding inside the box header */
  padding: 0.5rem;
  /* Green header background for the box */
  background: #008000;
  /* White header text for contrast */
  color: #fff;
  /* Bold weight for the header */
  font-weight: 700;
  /* Rounded top corners to match the box */
  border-radius: 10px 10px 0 0;
}

/* Clickable content area inside each feature box */
.home-column > a {
  /* Make the entire content area block-level so it fills the box */
  display: block;
  /* Vertical and horizontal padding for comfortable spacing */
  padding: 0.9rem 0.75rem 1.1rem 0.75rem;
  /* Dark green link color */
  color: #006600;
  /* Remove underline by default for the image/area */
  text-decoration: none;
}

/* Caption text under the images inside the feature boxes */
.home-column p {
  /* Small top margin to separate from image */
  margin: 0.25rem 0 0 0;
  /* Slight bottom padding for spacing */
  padding-bottom: 0.25rem;
  /* Dark green text color to match links */
  color: #006600;
  /* Underline the caption to indicate link association */
  text-decoration: underline;
}

/* Images inside the feature boxes */
.home-column img {
  /* Constrain image width for consistency */
  width: 200px;
  /* Preserve aspect ratio */
  height: auto;
  /* Decorative double border like the article image */
  border: 3px double #333;
  /* Block display to allow margin centering */
  display: block;
  /* Center the image horizontally within the box */
  margin: 0.6rem auto 0.6rem auto;
}

/* Default styling for non-navigation links to match site theme */
a:not(nav a) {
  /* Underline links for clarity */
  text-decoration: underline;
  /* Green color for primary links */
  color: #008000;
}

/* Responsive styles for narrower viewports */
@media (max-width: 900px) {
  /* Slightly more vertical padding in header on small screens */
  header {
    padding: 0.8rem 0;
    /* Allow header height to adjust naturally */
    min-height: auto;
  }

  /* Make logo participate in normal flow on small screens */
  #logo {
    position: static;
    /* Remove transforms if any */
    transform: none;
    /* Slightly larger logo for mobile */
    width: 60px;
    /* Keep logo displayed as block */
    display: block;
    /* Space under the logo */
    margin-bottom: 0.4rem;
    /* Reset top positioning */
    top: 0;
  }

  /* Reduce left padding on the title for narrow screens */
  header h1 {
    padding-left: 0;
    /* Slightly smaller title size on mobile */
    font-size: 1.4rem;
  }

  /* Stack nav links vertically by removing flex */
  nav ul {
    /* Smaller left padding for nav list on mobile */
    padding-left: 10px;
    /* Use block layout so each link is on its own line */
    display: block;
  }

  /* Stack the content-wrapper instead of two-column layout */
  #content-wrapper {
    display: block;
  }

  /* Place aside below main content on small screens */
  aside {
    /* Make aside come after main in source order for mobile */
    order: 2;
    /* Full width for the sidebar on small screens */
    width: 100%;
    /* Remove the max-width constraint */
    max-width: none;
    /* Do not flex */
    flex: none;
    /* Add top margin to separate from main */
    margin-top: 1rem;
  }

  /* Ensure main content appears before aside */
  main {
    order: 1;
  }

  /* Make article images full width and stacked above text on mobile */
  article img {
    /* Remove float so image behaves like a block */
    float: none;
    /* Image fills the available width */
    width: 100%;
    /* Space below the image */
    margin: 0 0 1rem 0;
  }

  /* Stack the bottom feature boxes vertically on mobile */
  main > section {
    flex-direction: column;
  }
}

/* Focus outline for accessibility when links receive keyboard focus */
a:focus {
  /* Visible dashed outline to indicate focus */
  outline: 3px dashed #9ae39a;
  /* Offset the outline slightly from the element */
  outline-offset: 2px;
}